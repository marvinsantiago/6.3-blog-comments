{"version":3,"sources":["js/setup.js","templates/app.js","templates/blog.js","js/blog.js","js/views/app.js","js/models/blog-c.js"],"sourcesContent":["var AppTemplates = {};\n","AppTemplates['app'] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<section class=\\\"blogapp\\\">\\n    <header class=\\\"header\\\">\\n        <button class=\\\"addcomment\\\">Add a comment</button>\\n        <form class=\\\"new-blog\\\">\\n        <p>Email:</p>\\n        <input type=\\\"text\\\" class=\\\"email\\\">\\n        <p>Comment:</p>\\n        <textarea name=\\\"text\\\" class=\\\"comment\\\" cols=\\\"30\\\" rows=\\\"10\\\"></textarea>\\n        <button class=\\\"submit\\\">Submit</button>\\n        </form>\\n    </header>\\n    <section class=\\\"main\\\">\\n        <ul class=\\\"blog-list\\\">\\n        </ul>\\n    </section>\\n</section>\\n\";\n},\"useData\":true});","AppTemplates['blog'] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper, alias1=helpers.helperMissing, alias2=\"function\", alias3=this.escapeExpression;\n\n  return \"<p> \"\n    + alias3(((helper = (helper = helpers.email || (depth0 != null ? depth0.email : depth0)) != null ? helper : alias1),(typeof helper === alias2 ? helper.call(depth0,{\"name\":\"email\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\n<p> \"\n    + alias3(((helper = (helper = helpers.comment || (depth0 != null ? depth0.comment : depth0)) != null ? helper : alias1),(typeof helper === alias2 ? helper.call(depth0,{\"name\":\"comment\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\n\";\n},\"useData\":true});","/**\n * Defined Model class\n *\n */\n\nvar Blog = Backbone.Model.extend({\n  idAttribute: '_id',\n  defaults: {\n    email: null,\n    comment: null,\n  },\n});\n\n/**\n * Defined Collection\n */\n\nvar BlogList = Backbone.Collection.extend({\n  model: Blog,\n  url: 'http://tiny-lr.herokuapp.com/collections/ms-comments',\n});\n","var BlogView = Backbone.View.extend({\n  tagName: 'li',\n  template: AppTemplates.blog,\n\n  initialize: function() {\n    this.listenTo(this.model, 'change', this.render);\n  },\n\n  // events: {\n\n  // },\n\n  render: function() {\n    var html = this.template(this.model.toJSON());\n    this.$el.html(html);\n\n    return this;\n  },\n\n});\n\nvar AppView = Backbone.View.extend({\n  template: AppTemplates.app,\n\n  el: '#target',\n\n  initialize: function() {\n    this.listenTo(this.collection, 'add reset sync', this.render);\n\n    this.render();\n    this.collection.fetch();\n  },\n\n  events: {\n    'click .addcomment': 'addComment',  // When addcomment button is clicked, form section appears\n    'click .submit': 'submit',\n  },\n\n  render: function() {\n    var html = this.template(this.collection);\n    var _this = this;\n\n    this.$el.html(html);\n    this.collection.forEach(function(blog) {\n      var childView = new BlogView({model: blog});\n\n      _this.$el.find('.blog-list')\n        .append(childView.render().$el);\n    });\n\n    console.info('render');\n    return this;\n  },\n\n  // Event\n  addComment: function() {\n    this.$el.find('.new-blog').slideDown();\n  },\n\n  // Event\n  submit: function() {\n    var email = this.$el.find('input.email').val();\n    var comment = this.$el.find('textarea.comment').val();\n    this.collection.create({email: email, comment: comment});\n  },\n\n});\n","// Created Collection and View instances:\nvar blog = new BlogList();\nvar app = new AppView({collection: blog});\n"],"names":[],"mappings":"AAAA;;ACAA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;","file":"app.js"}